(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{5015:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/text-generator",function(){return a(1562)}])},4778:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var i=a(5893),s=a(7294),n=a(8851),r=e=>{let{RightPanelData:t}=e;return(0,i.jsx)(i.Fragment,{children:t.map((e,t)=>(0,i.jsxs)("li",{className:"history-box ".concat(e.isActive?"active":""),children:[e.title,(0,i.jsxs)("div",{className:"dropdown history-box-dropdown",children:[(0,i.jsx)("button",{type:"button",className:"more-info-icon dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,i.jsx)("i",{className:"feather-more-horizontal"})}),(0,i.jsx)("ul",{className:"dropdown-menu",children:e.list.map((e,t)=>(0,i.jsx)("li",{children:(0,i.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,i.jsx)("i",{className:"feather-".concat(e.icon)})," ",e.text]})},t))})]})]},t))})},o=a(3493),c=()=>{let{shouldCollapseRightbar:e}=(0,o.bp)(),[t,a]=(0,s.useState)({previous:!0,yesterday:!0,older:!0}),c=e=>{a(t=>({...t,[e]:!t[e]}))};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"rbt-right-side-panel popup-dashboardright-section ".concat(e?"collapsed":""),children:[(0,i.jsx)("div",{className:"right-side-top",children:(0,i.jsxs)("a",{className:"btn-default bg-solid-primary","data-bs-toggle":"modal","data-bs-target":"#newchatModal",children:[(0,i.jsx)("span",{className:"icon",children:(0,i.jsx)("i",{className:"feather-plus-circle"})}),(0,i.jsx)("span",{children:"New Chat"})]})}),(0,i.jsxs)("div",{className:"right-side-bottom",children:[(0,i.jsxs)("div",{className:"small-search search-section mb--20",children:[(0,i.jsx)("input",{type:"search",placeholder:"Search Here..."}),(0,i.jsx)("i",{className:"feather-search"})]}),(0,i.jsxs)("div",{className:"chat-history-section",children:[(0,i.jsx)("h6",{className:"title",children:"Today"}),(0,i.jsx)("ul",{className:"chat-history-list",children:n&&n.rightPanel.map((e,t)=>(0,s.createElement)(r,{...e,key:t,RightPanelData:e.today}))})]}),(0,i.jsxs)("div",{className:"chat-history-section has-show-more ".concat(t.yesterday?"":"active"),children:[(0,i.jsx)("h6",{className:"title",children:"Yesterday"}),(0,i.jsx)("ul",{className:"chat-history-list has-show-more-inner-content",children:n&&n.rightPanel.map((e,t)=>(0,s.createElement)(r,{...e,key:t,RightPanelData:e.yesterday}))}),(0,i.jsx)("div",{className:"rbt-show-more-btn ".concat(t.yesterday?"":"active"),onClick:()=>c("yesterday"),children:"Show More"})]}),(0,i.jsxs)("div",{className:"chat-history-section has-show-more ".concat(t.previous?"":"active"),children:[(0,i.jsx)("h6",{className:"title",children:"Previous 7 days"}),(0,i.jsx)("ul",{className:"chat-history-list has-show-more-inner-content",children:n&&n.rightPanel.map((e,t)=>(0,s.createElement)(r,{...e,key:t,RightPanelData:e.previous}))}),(0,i.jsx)("div",{className:"rbt-show-more-btn ".concat(t.previous?"":"active"),onClick:()=>c("previous"),children:"Show More"})]}),(0,i.jsxs)("div",{className:"chat-history-section has-show-more ".concat(t.older?"":"active"),children:[(0,i.jsx)("h6",{className:"title",children:"November"}),(0,i.jsx)("ul",{className:"chat-history-list has-show-more-inner-content",children:n&&n.rightPanel.map((e,t)=>(0,s.createElement)(r,{...e,key:t,RightPanelData:e.older}))}),(0,i.jsx)("div",{className:"rbt-show-more-btn mb--100 ".concat(t.older?"":"active"),onClick:()=>c("older"),children:"Show More"})]})]})]})})}},627:function(e,t,a){"use strict";var i=a(5893),s=a(462);a(7294),t.Z=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"rbt-static-bar",children:[(0,i.jsx)(s.default,{}),(0,i.jsx)("p",{className:"b3 small-text",children:"ChatenAi can make mistakes. Consider checking important information."})]})})},1562:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var i=a(5893),s=a(7294),n=a(5725),r=a(3493),o=a(9385),c=a(644);a(4778);var l=a(3273),d=a(3281),h=a(1822),m=a.n(h),x=a(4055),b=a(1341),p=a(6501),y={ErrorShowToast:e=>{p.ZP.error(e,{style:{border:"1px solid #FF0000",padding:"16px",color:"red",backgroundColor:"trnasparent"},iconTheme:{primary:"black",secondary:"#FF0000"}})}};let u=[{category:b.OA.HARM_CATEGORY_HARASSMENT,threshold:b.MN.BLOCK_NONE},{category:b.OA.HARM_CATEGORY_HATE_SPEECH,threshold:b.MN.BLOCK_NONE},{category:b.OA.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:b.MN.BLOCK_NONE},{category:b.OA.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:b.MN.BLOCK_NONE}],g=e=>{try{let t=JSON.parse(e),a=t.waste_name||t.name||"UNKNOWN WASTE",s=parseFloat(t.recyclable_probability)||0,n=parseFloat(t.non_recyclable_probability)||0,r=t.waste_type||t.type_of_waste||"UNKNOWN TYPE",o=t.material||t.material_type||"UNKNOWN MATERIAL",c=parseInt(t.count)||0,l=[];return l="string"==typeof t.recycling_steps?/^\d+\.\s/.test(t.recycling_steps)?t.recycling_steps.split(/\d+\.\s+/).slice(1).map(e=>e.trim()).filter(e=>e):[t.recycling_steps.trim()]:t.recycling_steps||[],(0,i.jsxs)("div",{className:"ai-response",children:[(0,i.jsxs)("h2",{className:"waste-name",children:[a.toUpperCase()," ♻️"]}),(0,i.jsxs)("div",{className:"probabilities",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Recyclable Probability:"})," ",s.toFixed(2)," % \uD83C\uDF31"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Non-Recyclable Probability:"})," ",n.toFixed(2)," % \uD83D\uDEAB"]})]}),(0,i.jsx)("div",{className:"waste-type-material",children:(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Type of Waste:"})," ",r," | ",(0,i.jsx)("strong",{children:"Material Used:"})," ",o," \uD83C\uDFF7️"]})}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Total Count of Waste:"})," ",c," \uD83D\uDDD1️"]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Steps to Recycle:"})}),(0,i.jsx)("ul",{children:l.map((e,t)=>(0,i.jsxs)("li",{children:["\uD83D\uDD04 ",e]},t))})]})}catch(e){return console.error("Error parsing AI response:",e),(0,i.jsx)("p",{children:"Error displaying AI response."})}};var w=()=>{let e=(0,s.useRef)(null),[t,a]=(0,s.useState)(null),[n,r]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[l,d]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[w,j]=(0,s.useState)({width:"100%",height:"400px"}),[f,N]=(0,s.useState)(null),v=()=>{window.innerWidth<=768?j({width:"100%",height:"300px"}):window.innerWidth<=1024?j({width:"100%",height:"400px"}):j({width:"100%",height:"500px"})};(0,s.useEffect)(()=>(v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)),[]);let k=async()=>{try{let t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});e.current&&(r(!1),e.current.srcObject=t,N(t))}catch(e){y.ErrorShowToast("Error accessing camera"),console.error("Error accessing camera:",e),alert("No video feed detected. Please ensure your camera is connected and allowed in browser settings."),location.reload()}},_=()=>{f&&(f.getTracks().forEach(e=>e.stop()),N(null))};(0,s.useEffect)(()=>()=>{_()},[]);let E=()=>{if(e.current){let t=e.current,i=document.createElement("canvas");i.width=t.videoWidth,i.height=t.videoHeight;let s=i.getContext("2d");s&&(s.drawImage(t,0,0,i.width,i.height),a(i.toDataURL("image/jpeg")))}},C=async()=>{try{c(!0);let e=new b.$D("AIzaSyCn8viC6Dieiq9i0YNO-lzEF-V5YzaSOks").getGenerativeModel({model:"gemini-1.5-pro",safetySettings:u}),a=t.match(/^data:(image\/(\w+));base64,/);if(!a){console.error("Unsupported image format"),alert("Unsupported image format");return}let i={inlineData:{data:t.replace(a[0],""),mimeType:"image/jpeg"}},s=(await e.generateContent(["Does this look like a recyclable or non recyclable waste to you? Send the % of probability, only with two decimals. Don't send 'yes' or 'no' text, only %. Send both the % of how much it's recyclable and how much it's non-recyclable. Also, tell the type of waste like dry waste , wet waste etc., and detect the type of material used in the waste, give a relevant name to the waste and total count of waste and steps to recycle it too. Send response in a json type without ``` or extra anything – pure keys and values in json and use only these values for the description waste_name, recyclable_probability, non_recyclable_probability, waste_type, material, count, recycling_steps",i])).response.text().replace(/```json([\s\S]*?)```/,"$1");d(s)}catch(e){console.error("Error scanning image:",e),alert("Error scanning image"+e)}finally{c(!1),_()}};return(0,s.useEffect)(()=>{t&&!l&&C()},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m(),{id:"a98887169ae4de5d",dynamic:[w.width,w.height],children:".centered-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;min-height:40vh;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:20px;overflow:hidden;width:100%;max-width:1200px;margin:0 auto}.content.__jsx-style-dynamic-selector{text-align:center;width:100%;margin-bottom:2rem}.video-container.__jsx-style-dynamic-selector{width:100%;max-width:".concat(w.width,";margin:0 auto}.video-border.__jsx-style-dynamic-selector{border:7px solid#4c63cd;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;width:100%;height:").concat(w.height,";-o-object-fit:cover;object-fit:cover}.button-container.__jsx-style-dynamic-selector{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.loading-overlay.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.ai-response.__jsx-style-dynamic-selector{background-color:#34 C759;padding:20px;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;width:100%;max-width:400px;margin:0 auto}.waste-name.__jsx-style-dynamic-selector{font-size:24px;font-weight:bold;margin-bottom:10px}.probabilities.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:10px}.waste-type-material.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:10px}.button.__jsx-style-dynamic-selector{margin:10px auto;display:block}@media(max-width:768px){.centered-container.__jsx-style-dynamic-selector{padding:10px}}")}),(0,i.jsxs)("div",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" centered-container",children:[!h&&(0,i.jsxs)("div",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" content",children:[(0,i.jsx)("h1",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" text-3xl font-bold mb-4",children:"Scan Waste"}),(0,i.jsx)("p",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" text-lg mb-4",children:"To start scanning, click the button below to open the camera."})]}),l?(0,i.jsxs)("div",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]]),children:[g(l),(0,i.jsx)("button",{onClick:()=>location.reload(),className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" btn-default btn-small round button",children:"Scan More \uD83D\uDCF8"})]}):(0,i.jsx)("div",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" button-container",children:h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]]),children:"Aim The Camera At The Waste"}),(0,i.jsx)("div",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" video-container",children:n?(0,i.jsx)("div",{style:{height:w.height,borderRadius:"16px"},className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" w-full rounded-lg relative animate-pulse bg-black/80"}):(0,i.jsx)("video",{ref:e,autoPlay:!0,muted:!0,style:{objectFit:"cover",width:"100%",height:w.height},className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" video-border"})}),(0,i.jsx)("button",{onClick:()=>{E()},className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" btn-default btn-small round button",children:"Submit"}),o&&(0,i.jsx)("div",{className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" loading-overlay",children:(0,i.jsx)(x.Z,{color:"#fff",size:90})})]}):(0,i.jsx)("button",{onClick:()=>{p(!0),k()},className:m().dynamic([["a98887169ae4de5d",[w.width,w.height]]])+" btn-default btn-small round button",children:"Open Camera"})})]})]})};a(627);var j=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.default,{title:"Text Generator"}),(0,i.jsx)("main",{className:"page-wrapper rbt-dashboard-page",children:(0,i.jsx)(r.ZP,{children:(0,i.jsxs)("div",{className:"rbt-panel-wrapper",children:[(0,i.jsx)(o.Z,{display:""}),(0,i.jsx)(c.Z,{}),(0,i.jsx)(l.Z,{}),(0,i.jsx)(d.Z,{}),(0,i.jsx)("div",{className:"rbt-main-content",children:(0,i.jsx)("div",{className:"rbt-daynamic-page-content",children:(0,i.jsx)("div",{className:"rbt-dashboard-content",children:(0,i.jsx)("div",{className:"content-page",children:(0,i.jsx)(w,{})})})})})]})})})]})}},function(e){e.O(0,[675,996,367,444,801,658,707,730,888,774,179],function(){return e(e.s=5015)}),_N_E=e.O()}]);
//# sourceMappingURL=text-generator-a8e140c99d8dd399.js.map